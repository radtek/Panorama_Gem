  <% @update_area = get_unique_area_id %>

<%
  column_options =
      [
          {:caption=> 'Created',          :data=>proc{|rec| localeDateTime(rec.created)},          :title=> 'Timestamp of object creation'},
          {:caption=> 'Last DDL',         :data=>proc{|rec| localeDateTime(rec.last_ddl_time)},    :title=> 'Timestamp of last DDL operation on object'},
          {:caption=> 'Status',           :data=>proc{|rec| rec.status},                           :title=> 'Status of object in DBA_Objects'},
      ]

%>

<%= gen_slickgrid(@attribs, column_options, {:caption => "Description of #{@object_type} #{@owner}.#{@object_name}", :height => :auto}) %>

<%= render_yellow_pre(@source, 450) %>

<% if @object_type == 'PACKAGE' %>
    <div class="float_left">
      <%= my_ajax_submit_tag("Package Body",
                             url_for(:update_area  => @update_area,
                                     :action       => :list_plsql_description,
                                     :owner        => @owner,
                                     :object_name  => @object_name,
                                     :object_type  => 'PACKAGE BODY'
                             ),
                             :title => "Show description of package body for #{@owner}.#{@table_name}")
      %>
    </div>
<% end %>

<% if @object_type == 'PACKAGE BODY' %>
    <div class="float_left">
      <%= my_ajax_submit_tag("Package",
                             url_for(:update_area  => @update_area,
                                     :action       => :list_plsql_description,
                                     :owner        => @owner,
                                     :object_name  => @object_name,
                                     :object_type  => 'PACKAGE'
                             ),
                             :title => "Show description of package spec for #{@owner}.#{@table_name}")
      %>
    </div>
<% end %>

<div class="float_left">
  <%= my_ajax_submit_tag("#{@dependencies} Dependencies",
                         url_for(:update_area  => @update_area,
                                 :action       => :list_dependencies,
                                 :owner        => @owner,
                                 :object_name  => @object_name,
                                 :object_type  => @object_type
                         ),
                         :title => "Show object dependencies for #{@object_type} #{@owner}.#{@table_name}")
  %>
</div>
<div class="float_left">
  <%= my_ajax_submit_tag("#{@grants} Grants",
                         url_for(:update_area => @update_area,
                                 :action      => :list_grants,
                                 :owner       => @owner,
                                 :object_name => @object_name
                         ),
                         :title => "Show grants for #{@object_type} #{@owner}.#{@object_name}")
  %>
</div>
<div id="<%= @update_area %>" style="clear:both;"></div>
